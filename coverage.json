{"meta": {"format": 3, "version": "7.8.2", "timestamp": "2025-10-16T19:31:07.027363", "branch_coverage": true, "show_contexts": false}, "files": {"src/embedding_cache.py": {"executed_lines": [1, 46, 47, 48, 49, 51, 52, 54, 55, 56, 58, 61, 62, 63, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 94, 95, 105, 120, 122, 137, 147, 149, 151, 164, 165, 188, 196, 197, 198, 199, 201, 206, 219, 226, 227, 228, 230, 235, 237, 244, 245, 247, 248, 253, 255, 262, 264, 273, 275, 285, 288, 297, 299, 300, 301, 303, 308, 309, 310, 311, 312, 314, 316, 317, 319, 335, 336, 338, 340, 341, 344, 346, 351, 353, 355, 363, 367, 368, 369, 370, 371, 373, 374, 376, 378, 379, 384, 386, 393, 394, 400, 401, 403, 416, 431, 432, 435, 436, 438, 439, 444, 445, 450, 451, 457, 459, 460, 462, 463, 467, 476, 477, 497, 513, 553, 585, 600, 640, 709, 725], "summary": {"covered_lines": 128, "num_statements": 203, "percent_covered": 60.47430830039526, "percent_covered_display": "60.47", "missing_lines": 75, "excluded_lines": 0, "num_branches": 50, "num_partial_branches": 1, "covered_branches": 25, "missing_branches": 25}, "missing_lines": [364, 504, 505, 508, 509, 511, 528, 529, 531, 532, 537, 539, 540, 545, 547, 548, 549, 551, 565, 566, 567, 570, 572, 581, 582, 583, 592, 593, 594, 595, 597, 598, 622, 623, 626, 627, 629, 630, 633, 636, 638, 661, 662, 664, 666, 667, 668, 671, 672, 673, 675, 676, 677, 679, 681, 682, 685, 686, 692, 695, 696, 697, 700, 702, 707, 717, 718, 719, 720, 721, 722, 723, 735, 736, 740], "excluded_lines": [], "executed_branches": [[247, 248], [247, 253], [299, 300], [299, 303], [308, 309], [308, 314], [335, 336], [335, 338], [340, 341], [340, 346], [353, 355], [353, 378], [363, 367], [367, 368], [367, 373], [438, 439], [438, 444], [444, 445], [444, 450], [450, 451], [450, 457], [459, 460], [459, 462], [462, 463], [462, 467]], "missing_branches": [[363, 364], [528, 529], [528, 531], [531, 532], [531, 539], [539, 540], [539, 547], [547, 548], [547, 551], [565, 566], [565, 570], [627, 629], [627, 633], [661, 662], [661, 664], [671, 672], [671, 685], [676, 677], [676, 681], [685, 686], [685, 700], [695, 696], [695, 700], [717, -709], [717, 718]], "functions": {"CacheStats.from_dict": {"executed_lines": [105], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheStats.to_dict": {"executed_lines": [122], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheStats.is_healthy": {"executed_lines": [147], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheStats.__str__": {"executed_lines": [151], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheMonitor.__init__": {"executed_lines": [196, 197, 198, 199, 201], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheMonitor.get_cache_size_mb": {"executed_lines": [219, 226, 227, 228, 230, 235], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheMonitor.is_over_limit": {"executed_lines": [244, 245, 247, 248, 253], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 2, "num_partial_branches": 0, "covered_branches": 2, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [[247, 248], [247, 253]], "missing_branches": []}, "CacheMonitor.get_expired_count": {"executed_lines": [262, 264, 273], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheMonitor.cleanup_expired_entries": {"executed_lines": [285, 288, 297, 299, 300, 301, 303, 308, 309, 310, 311, 312, 314, 316, 317], "summary": {"covered_lines": 15, "num_statements": 15, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 4, "num_partial_branches": 0, "covered_branches": 4, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [[299, 300], [299, 303], [308, 309], [308, 314]], "missing_branches": []}, "CacheMonitor.cleanup_oldest_entries": {"executed_lines": [335, 336, 338, 340, 341, 344, 346, 351, 353, 355, 363, 367, 368, 369, 370, 371, 373, 374, 376, 378, 379, 384], "summary": {"covered_lines": 22, "num_statements": 23, "percent_covered": 93.93939393939394, "percent_covered_display": "93.94", "missing_lines": 1, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 1, "covered_branches": 9, "missing_branches": 1}, "missing_lines": [364], "excluded_lines": [], "executed_branches": [[335, 336], [335, 338], [340, 341], [340, 346], [353, 355], [353, 378], [363, 367], [367, 368], [367, 373]], "missing_branches": [[363, 364]]}, "CacheMonitor.get_cache_statistics": {"executed_lines": [393, 394, 400, 401, 403], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "monitor_cache_health": {"executed_lines": [431, 432, 435, 436, 438, 439, 444, 445, 450, 451, 457, 459, 460, 462, 463, 467], "summary": {"covered_lines": 16, "num_statements": 16, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 0, "covered_branches": 10, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [[438, 439], [438, 444], [444, 445], [444, 450], [450, 451], [450, 457], [459, 460], [459, 462], [462, 463], [462, 467]], "missing_branches": []}, "EmbeddingCache.__init__": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 5, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 5, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [504, 505, 508, 509, 511], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "EmbeddingCache._is_cache_valid": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 12, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 12, "excluded_lines": 0, "num_branches": 8, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 8}, "missing_lines": [528, 529, 531, 532, 537, 539, 540, 545, 547, 548, 549, 551], "excluded_lines": [], "executed_branches": [], "missing_branches": [[528, 529], [528, 531], [531, 532], [531, 539], [539, 540], [539, 547], [547, 548], [547, 551]]}, "EmbeddingCache._load_from_db": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 8, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 8, "excluded_lines": 0, "num_branches": 2, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 2}, "missing_lines": [565, 566, 567, 570, 572, 581, 582, 583], "excluded_lines": [], "executed_branches": [], "missing_branches": [[565, 566], [565, 570]]}, "EmbeddingCache._save_to_db": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 6, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 6, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [592, 593, 594, 595, 597, 598], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "EmbeddingCache.get_or_generate_embedding": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 9, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 9, "excluded_lines": 0, "num_branches": 2, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 2}, "missing_lines": [622, 623, 626, 627, 629, 630, 633, 636, 638], "excluded_lines": [], "executed_branches": [], "missing_branches": [[627, 629], [627, 633]]}, "EmbeddingCache.batch_get_or_generate_embeddings": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 24, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 24, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 10}, "missing_lines": [661, 662, 664, 666, 667, 668, 671, 672, 673, 675, 676, 677, 679, 681, 682, 685, 686, 692, 695, 696, 697, 700, 702, 707], "excluded_lines": [], "executed_branches": [], "missing_branches": [[661, 662], [661, 664], [671, 672], [671, 685], [676, 677], [676, 681], [685, 686], [685, 700], [695, 696], [695, 700]]}, "EmbeddingCache.invalidate_cache": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 7, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 7, "excluded_lines": 0, "num_branches": 2, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 2}, "missing_lines": [717, 718, 719, 720, 721, 722, 723], "excluded_lines": [], "executed_branches": [], "missing_branches": [[717, -709], [717, 718]]}, "EmbeddingCache.get_cache_stats": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 3, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 3, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [735, 736, 740], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "": {"executed_lines": [1, 46, 47, 48, 49, 51, 52, 54, 55, 56, 58, 61, 62, 63, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 94, 95, 120, 137, 149, 164, 165, 188, 206, 237, 255, 275, 319, 386, 416, 476, 477, 497, 513, 553, 585, 600, 640, 709, 725], "summary": {"covered_lines": 47, "num_statements": 47, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}}, "classes": {"CacheStats": {"executed_lines": [105, 122, 147, 151], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 0, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [], "missing_branches": []}, "CacheMonitor": {"executed_lines": [196, 197, 198, 199, 201, 219, 226, 227, 228, 230, 235, 244, 245, 247, 248, 253, 262, 264, 273, 285, 288, 297, 299, 300, 301, 303, 308, 309, 310, 311, 312, 314, 316, 317, 335, 336, 338, 340, 341, 344, 346, 351, 353, 355, 363, 367, 368, 369, 370, 371, 373, 374, 376, 378, 379, 384, 393, 394, 400, 401, 403], "summary": {"covered_lines": 61, "num_statements": 62, "percent_covered": 97.43589743589743, "percent_covered_display": "97.44", "missing_lines": 1, "excluded_lines": 0, "num_branches": 16, "num_partial_branches": 1, "covered_branches": 15, "missing_branches": 1}, "missing_lines": [364], "excluded_lines": [], "executed_branches": [[247, 248], [247, 253], [299, 300], [299, 303], [308, 309], [308, 314], [335, 336], [335, 338], [340, 341], [340, 346], [353, 355], [353, 378], [363, 367], [367, 368], [367, 373]], "missing_branches": [[363, 364]]}, "EmbeddingCache": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 74, "percent_covered": 0.0, "percent_covered_display": "0.00", "missing_lines": 74, "excluded_lines": 0, "num_branches": 24, "num_partial_branches": 0, "covered_branches": 0, "missing_branches": 24}, "missing_lines": [504, 505, 508, 509, 511, 528, 529, 531, 532, 537, 539, 540, 545, 547, 548, 549, 551, 565, 566, 567, 570, 572, 581, 582, 583, 592, 593, 594, 595, 597, 598, 622, 623, 626, 627, 629, 630, 633, 636, 638, 661, 662, 664, 666, 667, 668, 671, 672, 673, 675, 676, 677, 679, 681, 682, 685, 686, 692, 695, 696, 697, 700, 702, 707, 717, 718, 719, 720, 721, 722, 723, 735, 736, 740], "excluded_lines": [], "executed_branches": [], "missing_branches": [[528, 529], [528, 531], [531, 532], [531, 539], [539, 540], [539, 547], [547, 548], [547, 551], [565, 566], [565, 570], [627, 629], [627, 633], [661, 662], [661, 664], [671, 672], [671, 685], [676, 677], [676, 681], [685, 686], [685, 700], [695, 696], [695, 700], [717, -709], [717, 718]]}, "": {"executed_lines": [1, 46, 47, 48, 49, 51, 52, 54, 55, 56, 58, 61, 62, 63, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 94, 95, 120, 137, 149, 164, 165, 188, 206, 237, 255, 275, 319, 386, 416, 431, 432, 435, 436, 438, 439, 444, 445, 450, 451, 457, 459, 460, 462, 463, 467, 476, 477, 497, 513, 553, 585, 600, 640, 709, 725], "summary": {"covered_lines": 63, "num_statements": 63, "percent_covered": 100.0, "percent_covered_display": "100.00", "missing_lines": 0, "excluded_lines": 0, "num_branches": 10, "num_partial_branches": 0, "covered_branches": 10, "missing_branches": 0}, "missing_lines": [], "excluded_lines": [], "executed_branches": [[438, 439], [438, 444], [444, 445], [444, 450], [450, 451], [450, 457], [459, 460], [459, 462], [462, 463], [462, 467]], "missing_branches": []}}}}, "totals": {"covered_lines": 128, "num_statements": 203, "percent_covered": 60.47430830039526, "percent_covered_display": "60.47", "missing_lines": 75, "excluded_lines": 0, "num_branches": 50, "num_partial_branches": 1, "covered_branches": 25, "missing_branches": 25}}
